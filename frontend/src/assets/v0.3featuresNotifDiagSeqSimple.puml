@startuml
participant "Utilisateur IntÃ©ressÃ© (par l'annonce)" as UI
participant "Backend API" as API
participant "Proposeur (de l'annonce)" as P
participant "Base de DonnÃ©es" as DB
participant "WebSockets" as WS

UI -> API: POST /interests (demande dâ€™intÃ©rÃªt)
API -> DB: Enregistre la demande
DB --> API: OK (id_interet)
API -> WS: Ã‰met une notif au proposeur
WS --> P: ğŸ”” "Nouvelle demande reÃ§ue"
P -> API: GET /interests/received
API -> DB: RÃ©cupÃ¨re les demandes
DB --> API: Renvoie la liste
API --> P: Affiche les demandes
P -> API: PUT /interests/:id (accept/refuse)
API -> DB: Met Ã  jour le statut
DB --> API: OK
API -> WS: Ã‰met une notif Ã  lâ€™utilisateur intÃ©ressÃ©
WS --> UI: ğŸ”” "Votre demande a Ã©tÃ© acceptÃ©e/refusÃ©e"
@enduml